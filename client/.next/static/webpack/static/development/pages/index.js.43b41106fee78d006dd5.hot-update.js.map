{"version":3,"file":"static/webpack/static/development/pages/index.js.43b41106fee78d006dd5.hot-update.js","sources":["webpack:///./components/Store.js"],"sourcesContent":["import React, { Component } from 'react';\nimport SectionHeader from './SectionHeader';\nimport { StoreSection, RecordGrid, AddHeader } from './styles/Store.styles';\nimport Record from './Record';\nimport Sort from './Sort';\nimport PropTypes from 'prop-types';\n\nclass Store extends Component {\n  state = {\n    ...this.props.user,\n    sort: 'artist'\n  };\n\n  componentDidMount() {\n    const { page, loaded } = this.props;\n    if (page === 'store') return loaded();\n  }\n\n  changeSort = (property = 'artist') => {\n    const { records } = this.state;\n    const sortedRecords = records.sort((a, b) =>\n      a[property].toLowerCase() > b[property].toLowerCase() ? 1 : -1\n    );\n    this.setState({ records: sortedRecords, sort: property });\n  };\n\n  updateStore = async id => {\n    const { deleteRecord } = this.props;\n    await deleteRecord(id);\n    this.setState({ records: this.props.user.records });\n  };\n\n  render() {\n    const { records } = this.state;\n    return (\n      <StoreSection>\n        <SectionHeader first=\"My\" last=\"Store\" />\n        <Sort changeSort={this.changeSort} />\n        <RecordGrid>\n          {records.length >= 1 ? (\n            records.map(record => (\n              <Record\n                artist={record.artist}\n                title={record.title}\n                cover={record.cover}\n                key={record.id}\n                id={record.id}\n                updateStore={this.updateStore}\n                showGarbage={true}\n              />\n            ))\n          ) : (\n            <AddHeader>Get Started by adding some records!</AddHeader>\n          )}\n        </RecordGrid>\n      </StoreSection>\n    );\n  }\n}\n\nStore.propTypes = {\n  page: PropTypes.string.isRequired,\n  loaded: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  deleteRecord: PropTypes.func.isRequired\n};\n\nexport default Store;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAEA;AACA;;;AAQA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAdA;AAAA;AAAA;AAAA;AAEA;AACA;;;AAgBA;AAAA;AACA;AADA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAlDA;AACA;AAoDA;AACA;AACA;AACA;AACA;AAJA;AAOA;;;;A","sourceRoot":""}